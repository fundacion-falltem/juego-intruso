<!DOCTYPE html>
<html lang="es-AR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>¿Cuál es el intruso? — Juegos Cognitivos FALLTEM</title>
  <meta name="description" content="Juego cognitivo accesible: elegí el elemento que no pertenece al grupo. Estimula categorización, control inhibitorio y atención sostenida.">

  <!-- Fuente -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800;900&display=swap" rel="stylesheet">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Tokens -->
  <link rel="stylesheet" href="css/falltem-tokens.css">

  <!-- Estilos específicos del juego -->
  <link rel="stylesheet" href="css/intruso.css">
</head>

<body>
  <!-- Accesibilidad -->
  <a href="#juego" class="skip">Saltar al juego</a>

  <!-- FAB ayuda -->
  <div class="fab-stack">
    <button id="aboutBtn" class="fab" aria-haspopup="dialog" aria-controls="aboutModal" aria-expanded="false">?</button>
  </div>

  <!-- Contenedor principal -->
  <main class="wrap" role="main" aria-labelledby="titulo">
    
    <!-- Header -->
    <header class="header">
      <p class="header-label">Juegos Cognitivos FALLTEM</p>
      <h1 id="titulo">¿Cuál es el intruso?</h1>

      <p class="intro">
        Observá el conjunto y elegí el elemento que <strong>no pertenece</strong>.
        Sin límite de tiempo: jugá a tu ritmo.
      </p>

      <!-- Controles -->
      <section class="controles" aria-label="Controles del juego">
        
        <div class="control">
          <label for="rondas">Rondas</label>
          <select id="rondas">
            <option value="6">6 (corto)</option>
            <option value="8" selected>8 (recomendado)</option>
            <option value="10">10 (completo)</option>
          </select>
        </div>

        <div class="control">
          <label for="opciones">Opciones</label>
          <select id="opciones">
            <option value="3">3 (fácil)</option>
            <option value="4" selected>4 (medio)</option>
            <option value="5">5 (reto)</option>
          </select>
        </div>

        <div class="control control--actions">
          <button id="btnComenzar" class="btn principal" type="button">Comenzar</button>
        </div>

      </section>
    </header>

    <!-- Juego -->
    <section id="juego" class="juego" aria-live="polite"></section>

    <!-- Template de acciones dinámicas -->
    <div id="accionesPlantilla" hidden>
      <div class="acciones acciones-en-tarjeta">
        <button class="btn info btn-pista" type="button" hidden>Mostrar pista</button>
      </div>
    </div>

    <!-- HUD -->
    <section id="estado" class="estado" aria-live="polite">
      <p>Progreso: <strong id="progreso">0/0</strong> · Aciertos: <strong id="aciertos">0</strong></p>
    </section>

    <!-- Footer -->
    <footer class="mini-credit">
      <p>
        <strong class="mini-label">Créditos y aviso:</strong>
        Desarrollado por <strong>FALLTEM</strong> · Código abierto MIT · Actividad lúdica; no es práctica médica.  
        Sin recolección de datos personales.  
        <br><small>Versión: <strong id="versionLabel"></strong></small>
      </p>
    </footer>
  </main>

  <!-- Modal -->
  <div id="aboutModal" class="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" tabindex="-1">

      <button id="aboutCloseTop" class="btn-x" aria-label="Cerrar">×</button>

      <h2 id="aboutTitle" class="modal-title">¿Cuál es el intruso?</h2>

      <!-- Tabs -->
      <div class="modal-tabs">
        <button id="aboutTabHow" class="modal-tab" type="button" aria-selected="true">
          ¿Cómo se juega?
        </button>

        <button id="aboutTabWhy" class="modal-tab" type="button" aria-selected="false" tabindex="-1">
          ¿Por qué este juego?
        </button>
      </div>

      <!-- Panel 1 -->
      <div id="aboutPanelHow" class="modal-panel">
        <p>El objetivo es elegir la palabra que <strong>no pertenece</strong> al grupo.</p>
        <ul>
          <li>Presioná <strong>Comenzar</strong>.</li>
          <li>Observá el conjunto de palabras.</li>
          <li>Elegí el elemento que no encaja.</li>
          <li>Si necesitás ayuda, usá <strong>Mostrar pista</strong>.</li>
          <li>No hay límite de tiempo: respondé con calma.</li>
        </ul>
      </div>

      <!-- Panel 2 -->
      <div id="aboutPanelWhy" class="modal-panel" hidden>
        <p>Este ejercicio trabaja:</p>
        <ul>
          <li><strong>Categorización</strong></li>
          <li><strong>Control inhibitorio</strong></li>
          <li><strong>Atención sostenida</strong></li>
          <li><strong>Flexibilidad cognitiva</strong></li>
        </ul>

        <h3>Fundamento</h3>
        <p>
          1) Lampit A. et al., <em>PLOS Medicine</em>, 2014 —  
          meta-análisis sobre entrenamiento cognitivo.
        </p>
        <p>
          2) Anguera J.A. et al., <em>Nature</em>, 2013 —
          estudio sobre control y atención con beneficios sostenidos.
        </p>

        <p class="muted small-links">
          <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC4381540/" target="_blank">Meta-análisis</a> ·
          <a href="https://www.nature.com/articles/nature12486" target="_blank">Estudio Nature</a>
        </p>
      </div>

      <div class="modal-actions">
        <button id="aboutClose" class="btn principal" type="button">Entendido</button>
      </div>

    </div>
  </div>

  <!-- JS principal -->
  <script src="app.js"></script>

  <!-- JS TABS (tal cual vos pediste) -->
  <script>
    const tabHow = document.getElementById("aboutTabHow");
    const tabWhy = document.getElementById("aboutTabWhy");
    const panelHow = document.getElementById("aboutPanelHow");
    const panelWhy = document.getElementById("aboutPanelWhy");

    function selectTab(showHow) {
      if (showHow) {
        tabHow.setAttribute("aria-selected", "true");
        tabWhy.setAttribute("aria-selected", "false");
        tabWhy.setAttribute("tabindex", "-1");
        panelHow.hidden = false;
        panelWhy.hidden = true;
      } else {
        tabHow.setAttribute("aria-selected", "false");
        tabWhy.setAttribute("aria-selected", "true");
        tabWhy.removeAttribute("tabindex");
        panelHow.hidden = true;
        panelWhy.hidden = false;
      }
    }

    tabHow.addEventListener("click", () => selectTab(true));
    tabWhy.addEventListener("click", () => selectTab(false));
  </script>

</body>
</html>
